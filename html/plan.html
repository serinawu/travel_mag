<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/2bd8048d04.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bangers&family=Barriecito&family=Noto+Sans+TC:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../src/css/style.css" />
    <title>TAI Zhi | 台誌</title>
  </head>
  <body data-bs-theme="light" class="position-relative">
    <header class="fixed-top bg-body-tertiary px-3">
      <nav class="navbar bg-body-tertiary fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="../index.html">TAI Zhi</a>
          <ul class="navbar-nav d-flex flex-row pc_nav">
            <li class="nav-item container-lg me-4 me-lg-0">
              <a class="nav-link" aria-current="page" href="./shop.html"
                ><p>行程選購</p></a
              >
            </li>
            <li class="nav-item container-lg me-4 me-lg-0 active">
              <a class="nav-link" href="./plan.html">
                <p>行程規劃</p>
              </a>
            </li>
            <li class="nav-item container-lg">
              <a class="nav-link" href="./magazine.html">
                <p>雜誌出版</p>
              </a>
            </li>
          </ul>
          <ol class="d-flex flex-row justify-content-end right-area">
            <li class="me-4 d-flex">
              <button
                class="p-2 px-3 bg-transparent position-relative cart_btn"
                role="button"
              >
                <i class="bi bi-cart3 fs-5"></i>
                <div
                  class="position-absolute translate-middle rounded-pill bg-danger text-reset p-1 cartCount"
                >
                  0
                </div>
              </button>
            </li>
            <li>
              <button
                class="btn btn-primary login_btn"
                role="button"
                onclick="window.location.href='./loginSignup.html'"
              >
                登入
              </button>
            </li>
          </ol>
          <button
            class="navbar-toggler px-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon py-1"></span>
          </button>
          <div
            class="offcanvas offcanvas-end"
            tabindex="-1"
            id="offcanvasNavbar"
            aria-labelledby="offcanvasNavbarLabel"
          >
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Logo</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                <li class="nav-item container-lg me-4 me-lg-0">
                  <a class="nav-link" aria-current="page" href="./shop.html"
                    ><p>行程選購</p>
                  </a>
                </li>
                <li class="nav-item container-lg me-4 me-lg-0 active">
                  <a class="nav-link" href="./plan.html"><p>行程規劃</p> </a>
                </li>
                <li class="nav-item container-lg">
                  <a class="nav-link" href="./magazine.html"><p>雜誌出版</p></a>
                </li>
              </ul>
              <div
                class="d-flex container-fluid justify-content-start position-absolute bottom-0 py-4"
              >
                <button
                  class="btn btn-primary d-flex align-items-center mx-4 cart_btn sideCanvas"
                  role="button"
                >
                  <i class="bi bi-cart3 fs-5 pe-1"></i>
                  <div
                    class="position-absolute translate-middle rounded-pill bg-danger text-reset p-1 cartCount"
                  >
                    0
                  </div>
                  <p>購物車</p>
                </button>
                <button
                  class="btn btn-outline-primary align-content-center login_btn"
                  role="button"
                >
                  <a href="./loginSignup.html"
                    >登入
                    <!-- <p>登入</p> -->
                  </a>
                </button>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="container plan_page">
      <div class="row d-flex align-content-start position-relative">
        <!-- <div class="col-1 offcanvas offcanvas-start" id="offcanvasTools" tabindex="-1" aria-labelledby="offcanvasToolsLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasToolsLabel">工具</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="list-group">
              <li class="list-group-item" data-bs-toggle="popover" title="歷史行程" data-bs-content="檢視已發布的行程">
                <i class="bi bi-clock-history"></i>
              </li>
              <li class="list-group-item" data-bs-toggle="popover" title="喜愛行程" data-bs-content="收藏的行程清單">
                <i class="bi bi-heart-fill"></i>
              </li>
              <li class="list-group-item" data-bs-toggle="popover" title="探索行程" data-bs-content="查看社群推薦">
                <i class="bi bi-compass"></i>
              </li>
            </ul>
          </div>
        </div> -->
        <!-- 左側工具列 -->
        <ul
          class="col-1 bg-body-secondary px-0 py-3 position-fixed top-0 left-0"
          id="plan-tool"
          style="width: 3%; height: 100%; z-index: 4"
        >
          <li
            class="mb-2 d-flex align-content-center justify-content-center tool-Btn"
          >
            <button
              class="btn btn-sm d-flex bg-light py-1 overflow-x-hidden"
              data-name="歷史行程"
            >
              <i class="bi bi-clock-history fw-bold text-primary"></i>
            </button>
            <p class="ms-2 tool-btnName rounded-1 shadow-lg d-none">歷史行程</p>
          </li>
          <li
            class="mb-2 d-flex align-content-center justify-content-center tool-Btn"
          >
            <button
              class="btn btn-sm d-flex bg-light py-1 overflow-x-hidden"
              data-name="喜愛行程"
            >
              <i class="bi bi-heart-fill fw-bold text-primary"></i>
            </button>
            <p class="ms-2 tool-btnName rounded-1 shadow-lg d-none">喜愛行程</p>
          </li>
          <li
            class="mb-2 d-flex align-content-center justify-content-center tool-Btn"
          >
            <button class="btn btn-sm d-flex bg-light py-1 overflow-x-hidden">
              <i class="bi bi-fire fw-bold text-primary"></i>
            </button>
            <p class="ms-2 tool-btnName rounded-1 shadow-lg d-none">推薦行程</p>
          </li>
          <li
            class="mb-2 d-flex align-content-center justify-content-center tool-Btn"
          >
            <button
              class="btn btn-sm d-flex bg-light py-1 overflow-x-hidden"
              data-name="探索行程"
            >
              <i class="bi bi-binoculars-fill fw-bold text-primary"></i>
              <p class="ms-2 tool-btnName rounded-1 shadow-lg d-none">
                探索行程
              </p>
            </button>
          </li>
        </ul>
        <!-- 主規劃區 -->
        <div class="col-6 mt-2" id="plan-mainArea">
          <div class="accordion" id="recenViewList">
            <div class="accordion-item mb-3">
              <h2 class="accordion-header" id="headingOne">
                <button
                  class="accordion-button"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseOne"
                  aria-expanded="true"
                  aria-controls="collapseOne"
                >
                  <i class="bi bi-clock-history fw-bold me-2"></i>
                  最近瀏覽過的行程
                </button>
              </h2>
              <div
                id="collapseOne"
                class="accordion-collapse collapse show"
                aria-labelledby="headingOne"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <ul class="list-group">
                    <li class="list-group-item">
                      <div class="swiper swiper_recent mb-3">
                        <div class="swiper-wrapper"></div>
                        <div class="swiper-button-prev">
                          <i class="bi bi-caret-left-fill"></i>
                        </div>
                        <div class="swiper-button-next">
                          <i class="bi bi-caret-right-fill"></i>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-sm btn-primary pe-3 mb-3 d-flex align-content-center justify-content-center mb-2"
            id="addTravelPlan"
            data-bs-toggle="modal"
            data-bs-target="#newPlanModal"
          >
            <i class="bi bi-plus fs-4 fw-bold"></i>
            <p
              class="fw-bold d-inline-flex my-auto"
            >
              新增旅程計畫
            </p>
          </button>
          <div class="plan-group mb-5">
            <div class="planList mb-4">
              <ul class="list-group sortable-list">
                <div
                  class="d-flex align-content-center justify-content-between mb-3"
                >
                  <div
                    class="d-flex align-items-center justify-content-center fw-bold planName"
                  >
                    <i class="bi bi-map ms-1 me-2"></i>
                    <p class="planName">台北跨年-三天兩夜</p>
                  </div>
                  <button class="btn btn-light edit_plan" type="button">
                    <i class="bi bi-pencil-square"></i>
                  </button>
                </div>
                <li class="list-group-item date-group">
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <input type="checkbox" class="d-none form-check-input me-2" id="date1Checkbox"/>
                      <span class="dayBlock">1</span>
                      <span class="dateBlock">12/30</span>
                    </div>
                    <button
                      class="btn btn-link btn-sm mb-0"
                      data-bs-toggle="collapse"
                      data-bs-target="#day1Details"
                      aria-expanded="false"
                      aria-controls="day1Details"
                    >
                      <i class="bi bi-chevron-down"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2" id="day1Details">
                    <!-- <ul class="list-group">
                      <li class="list-group-item sub-group d-flex align-items-center">
                        <input type="checkbox" class="d-none form-check-input me-2" id="date1_a_Checkbox"/>
                        捷運台北101/世貿站
                      </li>
                      <li class="list-group-item sub-group d-flex align-items-center">
                        <input type="checkbox" class="d-none form-check-input me-2" id="date1_b_Checkbox"/>
                        i-Ride飛行劇院
                      </li>
                    </ul> -->
                  </div>
                </li>
                <li class="list-group-item date-group">
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <input type="checkbox" class="d-none form-check-input me-2" id="date2Checkbox"/>
                      <span class="dayBlock">2</span>
                      <span class="dateBlock">12/31</span>
                    </div>
                    <button
                      class="btn btn-link btn-sm"
                      data-bs-toggle="collapse"
                      data-bs-target="#day2Details"
                      aria-expanded="false"
                      aria-controls="day2Details"
                    >
                      <i class="bi bi-chevron-down"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2" id="day2Details">
                    <ul class="list-group">
                      <li class="list-group-item">行程尚未規劃</li>
                    </ul>
                  </div>
                </li>
                <li class="list-group-item date-group">
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <div>
                      <input type="checkbox" class="d-none form-check-input me-2" id="date3Checkbox"/>
                      <span class="dayBlock">3</span>
                      <span class="dateBlock">01/01</span>
                    </div>
                    <button
                      class="btn btn-link btn-sm"
                      data-bs-toggle="collapse"
                      data-bs-target="#day3Details"
                      aria-expanded="false"
                      aria-controls="day3Details"
                    >
                      <i class="bi bi-chevron-down"></i>
                    </button>
                  </div>
                  <div class="collapse mt-2" id="day3Details">
                    <ul class="list-group">
                      <li class="list-group-item">行程尚未規劃</li>
                    </ul>
                  </div>
                </li>
              </ul>
              <div class="d-none justify-content-between mt-3 config-row">
                <button class="btn btn-outline-danger deleteSelected">
                  刪除選項
                </button>
                <div>
                  <button class="btn btn-ouline-secondary cancelPlan">
                    取消
                  </button>
                  <button class="btn btn-primary" id="modalConfirmButton">儲存</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 右側地圖 -->
        <div class="col-5 p-0 map-Area position-fixed top-0">
          <button
            class="btn btn-sm shadow-lg position-absolute"
            role="button"
            id="close-map-btn"
          >
            <i class="fs-5 bi bi-text-indent-left"></i>
          </button>
        </div>
      </div>
    </div>
    <div id="dayNight-toggle" class="form-check form-switch">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="flexSwitchCheckChecked"
        checked
      />
    </div>
    <div
  class="modal fade"
  id="newPlanModal"
  tabindex="-1"
  aria-labelledby="fullscreenModalLabel"
  aria-hidden="true"
>
  <div
    id="newPlan_dialog"
    class="modal-dialog modal-xl modal-dialog-centered"
  >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title d-flex" id="fullscreenModalLabel">
          <i class="bi bi-map ms-1 me-2"></i>
          <span id="modalTitle">標題</span>
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-bs-dismiss="modal"
        >
          取消
        </button>
        <button type="button" class="btn btn-primary">新增旅程</button>
      </div>
    </div>
  </div>
</div>
    <div
      class="cart-popup bg-light-subtle rounded shadow-lg position-absolute d-none"
    >
      <div
        class="cart-header bg-light-subtle d-flex align-items-center justify-content-between pe-1 pt-2 ps-3 pb-1"
      >
        <i class="bi bi-triangle-fill text-bg-light-subtle"></i>
        <h6 class="mb-0">購物車</h6>
        <button class="clear-cart-btn btn btn-sm">清空購物車</button>
      </div>
      <div class="cart-items p-3">
        <!-- 動態生成商品項目 -->
        <div class="cart-item position-relative">
          <button
            type="button"
            class="clear-ThisProduct position-absolute"
            onclick="cart.removeItem('${item.productId}')"
          >
            <i class="bi bi-x"></i>
          </button>
          <p class="product-name fw-bold mb-2">
            台東熱氣球嘉年華<span
              class="product-count translate-middle rounded-pill bg-danger text-reset p-1 ms-1"
              >3</span
            >
          </p>
          <p class="product-option mb-2">親子方案</p>
          <p class="single-price">NT$ 1191</p>
        </div>
      </div>
      <div
        class="cart-footer d-flex align-items-center justify-content-between p-3"
      >
        <p class="cart-total fw-bold text-danger">3573</p>
        <button class="checkout-btn">結帳</button>
      </div>
    </div>
    <button
      onclick="topFunction()"
      id="backToTop"
      class="rounded fs-4"
      role="button"
    >
      <i class="bi bi-arrow-up-short m-auto"></i>
    </button>
    <div id="liveAlertPlaceholder"></div>
    <div id="dayNight-toggle" class="form-check form-switch">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="flexSwitchCheckChecked"
        checked
      />
    </div>
    <!-- <footer class="mt-5 position-absolute bottom-0">
      <div class="container-fluid bg-body-tertiary">
        <a class="navbar-brand" href="../index.html">TAI Zhi</a>
      </div>
    </footer> -->
    <script src="../js/chart.js" type="module"></script>
    <script src="../js/main.js" type="module"></script>
    <script src="../js/plan.js"></script>
    <script src="../js/swiper.js"></script>
  </body>
</html>
